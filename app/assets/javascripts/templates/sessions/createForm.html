<div class="modal" tabindex="-1" role="dialog" aria-hidden="true" ng-controller="UsersCtrl">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Create Account</h4>
            </div>
            <div class="modal-body">
                <form name="createForm" novalidate>
                    <ul class="shifter-form">
                        <li>
                            <p flash-alert duration="0" active-class="invalid" class="sharp">
                                {{flash.message}}
                            </p>
                        </li>
                        <li>
                            <label>Email <span class="required">*</span></label>
                            <input name="email" type="email" ng-model="user.email" class="field-long"
                                   ng-class="{'has-error' : invalid(createForm, 'email') }" ng-minglength="4">
                            <p ng-show="invalid(createForm, 'email')" class="help-block">Invalid email address.</p>
                            <p ng-show="errors.email" ng-repeat="message in errors.email" class="help-block"> Email {{ message }}</p>
                        </li>
                        <li>
                            <label>Username <span class="required">*</span></label>
                            <input name="username" type="text" ng-model="user.username" class="field-long"
                                   ng-class="{'has-error' : invalid(createForm, 'username') }" ng-minlength="3" ng-maxlength="15">
                            <p ng-show="invalid(createForm, 'username')" class="help-block">Username has to be between 3 and 15 characters long.</p>
                            <p ng-show="errors.username" ng-repeat="message in errors.username" class="help-block"> Username {{ message }}</p>
                        </li>
                        <li>
                            <label>Password <span class="required">*</span></label>
                            <input name="password" type="password" ng-model="user.password" class="field-long"
                                   ng-class="{'has-error' : invalid(createForm, 'password') }" ng-minlength="8" ng-pattern="/^(?=.*[A-Z])(?=.*\d).+$/">
                            <p ng-show="invalid(createForm, 'password')" class="help-block">Password has to be at least 8 characters long and have at least 1 uppercase letter and number.</p>
                            <p ng-show="errors.password" ng-repeat="message in errors.password" class="help-block"> Password {{ message }}</p>
                        </li>
                        <li>
                            <label>Password confirmation <span class="required">*</span></label>
                            <input name="passwordConfirmation" type="password" ng-model="user.password_confirmation" class="field-long" match="credentials.password"
                                   ng-class="{'has-error' : createForm.passwordConfirmation.$error.match }">
                            <p ng-show="createForm.passwordConfirmation.$error.match" class="help-block">Passwords doesn't match.</p>
                            <p ng-show="errors.password_confirmation" ng-repeat="message in errors.password_confirmation" class="help-block"> Password Confirmation {{ message }}</p>
                        </li>
                    </ul>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary sharp" ng-click="newUser()" ng-disabled="createForm.$invalid || createForm.$pristine">Save</button>
                <button type="button" class="btn btn-danger sharp" ng-click="$hide()">Close</button>
            </div>
        </div>
    </div>
</div>